@model IEnumerable<StudentsDatabase.Entities.Student>

<div class="container-fluid py-4">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<div>
			<h2 class="mb-1">
				<i class="bi bi-people-fill text-primary me-2"></i>Student Management
			</h2>
			<p class="text-muted mb-0">Manage and view all student records</p>
		</div>
		<a asp-action="Add" class="btn btn-success btn-lg shadow-sm">
			<i class="bi bi-person-plus-fill me-2"></i>Add New Student
		</a>
	</div>

	<div class="card shadow-sm">
		<div class="card-body p-0">
			<div class="table-responsive">
				<table id="myTable" class="table table-hover table-striped mb-0" style="width:100%;">
					<thead class="table-primary">
						<tr>
							<th><i class="bi bi-person me-2"></i>Name</th>
							<th><i class="bi bi-envelope me-2"></i>Email</th>
							<th><i class="bi bi-telephone me-2"></i>Phone</th>
							<th><i class="bi bi-geo-alt me-2"></i>Address</th>
							<th class="text-center" width="180px"><i class="bi bi-gear me-2"></i>Actions</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td class="fw-semibold">@Html.DisplayFor(m => item.Name)</td>
								<td>@Html.DisplayFor(m => item.Email)</td>
								<td>@Html.DisplayFor(m => item.Phone)</td>
								<td>@Html.DisplayFor(m => item.Address)</td>
								<td class="text-center">
									<div class="btn-group" role="group">
										<a asp-action="Edit" asp-route-id="@item.Id"
										   class="btn btn-sm btn-outline-primary"
										   title="Edit Student">
											<i class="bi bi-pencil-square"></i>
										</a>
										<button type="button"
												class="btn btn-sm btn-outline-danger"
												data-id="@item.Id"
												onclick="confirmDelete('@item.Id')"
												title="Delete Student">
											<i class="bi bi-trash3"></i>
										</button>
									</div>
									<form id="deleteForm-@item.Id" asp-action="Delete" asp-route-id="@item.Id" method="post" style="display:none;">
										@Html.AntiForgeryToken()
									</form>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<style>
	.card {
		border: none;
		border-radius: 12px;
		overflow: hidden;
	}

	.table-primary {
		background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);
		color: white;
	}

		.table-primary th {
			border: none;
			padding: 1rem;
			font-weight: 600;
			letter-spacing: 0.5px;
		}

	.table tbody tr {
		transition: all 0.2s ease;
	}

		.table tbody tr:hover {
			background-color: rgba(13, 110, 253, 0.05);
			transform: scale(1.01);
		}

	.table td {
		padding: 1rem;
		vertical-align: middle;
	}

	.btn-group .btn {
		border-radius: 6px;
		margin: 0 2px;
		transition: all 0.2s ease;
	}

	.btn-outline-primary:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 8px rgba(13, 110, 253, 0.3);
	}

	.btn-outline-danger:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
	}

	.btn-success {
		background: linear-gradient(135deg, #198754 0%, #146c43 100%);
		border: none;
		border-radius: 8px;
	}

		.btn-success:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 12px rgba(25, 135, 84, 0.4);
		}

	.shadow-sm {
		box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1) !important;
	}

	h2 {
		font-weight: 700;
		color: #2c3e50;
	}

	.table-responsive {
		border-radius: 12px;
	}
</style>

<!-- Bootstrap Icons (add to your layout if not already included) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<script>
	function confirmDelete(studentId) {
		Swal.fire({
			title: "Are you sure?",
			text: "This student will be deleted permanently!",
			icon: "warning",
			showCancelButton: true,
			confirmButtonText: "Yes, delete it!",
			cancelButtonText: "Cancel"
		}).then((result) => {
			if (result.isConfirmed) {
				document.getElementById("deleteForm-" + studentId).submit();
			}
		});
	}
</script>

@section Scripts{
	<script>
		$(function(){
			$('#myTable').DataTable()
		});
	</script>
}